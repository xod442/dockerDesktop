---
- provider:
   - host: {{ inventory_hostname }}
   - username: "admin"
   - password: "admin"
   - authorize: "yes"
   - transport: "cli"

- gateway:
   - gateway: '172.20.1.254'

- mgmt:
   - spine01:
      - hostname: spine01
      - loopback0_ip: "10.2.0.1 255.255.255.255"
   - spine02:
      - hostname: spine02
      - loopback0_ip: "10.2.0.2 255.255.255.255"
   - spine03:
      - hostname: spine03
      - loopback0_ip: "10.2.0.3 255.255.255.255"
   - spine04:
      - hostname: spine04
      - loopback0_ip: "10.2.0.4 255.255.255.255"
   - leaf01:
      - hostname: leaf01
      - loopback0_ip: "10.2.0.5 255.255.255.255"
   - leaf02:
      - hostname: leaf02
      - loopback0_ip: "10.2.0.6 255.255.255.255"
   - leaf03:
      - hostname: leaf03
      - loopback0_ip: "10.2.0.7 255.255.255.255"
   - leaf04:
      - hostname: leaf04
      - loopback0_ip: "10.2.0.8 255.255.255.255"
   - leaf05:
      - hostname: leaf05
      - loopback0_ip: "10.2.0.9 255.255.255.255"
   - leaf06:
      - hostname: leaf06
      - loopback0_ip: "10.2.0.10 255.255.255.255"
- fabric:
   - spine01:
      - asn: 65020
      - rid: 1.0.0.1
      - fabricpeers:
         - "172.20.1.2 remote-as 65010"
         - "172.20.1.6 remote-as 65011"
         - "172.20.1.10 remote-as 65012"
         - "172.20.1.14 remote-as 65013"
         - "172.20.1.18 remote-as 65014"
         - "172.20.1.22 remote-as 65015"
      - networks:
         - "172.20.1.0 mask 255.255.255.252"
         - "172.20.1.4 mask 255.255.255.252"
         - "172.20.1.8 mask 255.255.255.252"
         - "172.20.1.12 mask 255.255.255.252"
         - "172.20.1.16 mask 255.255.255.252"
         - "172.20.1.20 mask 255.255.255.252"
   - spine02:
      - asn: 65020
      - rid: 1.0.0.2
      - fabricpeers:
         - "172.20.1.26 remote-as 65010"
         - "172.20.1.30 remote-as 65011"
         - "172.20.1.34 remote-as 65012"
         - "172.20.1.38 remote-as 65013"
         - "172.20.1.42 remote-as 65014"
         - "172.20.1.46 remote-as 65015"
      - networks:
         - "172.20.1.24 mask 255.255.255.252"
         - "172.20.1.28 mask 255.255.255.252"
         - "172.20.1.32 mask 255.255.255.252"
         - "172.20.1.36 mask 255.255.255.252"
         - "172.20.1.40 mask 255.255.255.252"
         - "172.20.1.44 mask 255.255.255.252"
   - spine03:
      - asn: 65020
      - rid: 1.0.0.3
      - fabricpeers:
         - "172.20.1.50 remote-as 65010"
         - "172.20.1.54 remote-as 65011"
         - "172.20.1.58 remote-as 65012"
         - "172.20.1.62 remote-as 65013"
         - "172.20.1.66 remote-as 65014"
         - "172.20.1.70 remote-as 65015"
      - networks:
         - "172.20.1.48 mask 255.255.255.252"
         - "172.20.1.52 mask 255.255.255.252"
         - "172.20.1.56 mask 255.255.255.252"
         - "172.20.1.60 mask 255.255.255.252"
         - "172.20.1.64 mask 255.255.255.252"
         - "172.20.1.68 mask 255.255.255.252"
   - spine04:
      - asn: 65020
      - rid: 1.0.0.4
      - fabricpeers:
         - "172.20.1.74 remote-as 65010"
         - "172.20.1.78 remote-as 65011"
         - "172.20.1.82 remote-as 65012"
         - "172.20.1.86 remote-as 65013"
         - "172.20.1.90 remote-as 65014"
         - "172.20.1.94 remote-as 65015"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf01:
      - asn: 65010
      - rid: 1.0.0.5
      - fabricpeers:
         - "172.20.1.1 remote-as 65020"
         - "172.20.1.25 remote-as 65020"
         - "172.20.1.49 remote-as 65020"
         - "172.20.1.73 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf02:
      - asn: 65011
      - rid: 1.0.0.6
      - fabricpeers:
         - "172.20.1.5 remote-as 65020"
         - "172.20.1.29 remote-as 65020"
         - "172.20.1.53 remote-as 65020"
         - "172.20.1.77 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf03:
      - asn: 65012
      - rid: 1.0.0.7
      - fabricpeers:
         - "172.20.1.9 remote-as 65020"
         - "172.20.1.33 remote-as 65020"
         - "172.20.1.57 remote-as 65020"
         - "172.20.1.81 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf04:
      - asn: 65013
      - rid: 1.0.0.8
      - fabricpeers:
         - "172.20.1.13 remote-as 65020"
         - "172.20.1.37 remote-as 65020"
         - "172.20.1.61 remote-as 65020"
         - "172.20.1.85 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf05:
      - asn: 65014
      - rid: 1.0.0.9
      - fabricpeers:
         - "172.20.1.17 remote-as 65020"
         - "172.20.1.41 remote-as 65020"
         - "172.20.1.65 remote-as 65020"
         - "172.20.1.89 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
   - leaf06:
      - asn: 65015
      - rid: 1.0.0.10
      - fabricpeers:
         - "172.20.1.21 remote-as 65020"
         - "172.20.1.45 remote-as 65020"
         - "172.20.1.69 remote-as 65020"
         - "172.20.1.93 remote-as 65020"
      - networks:
         - "172.20.1.72 mask 255.255.255.252"
         - "172.20.1.76 mask 255.255.255.252"
         - "172.20.1.80 mask 255.255.255.252"
         - "172.20.1.84 mask 255.255.255.252"
         - "172.20.1.88 mask 255.255.255.252"
         - "172.20.1.92 mask 255.255.255.252"
- ospf:
   - spine01:
      - process: '1'
      - router_id: '1.0.0.1'
      - networks:
         - "172.20.1.0/30":
         - "172.20.1.4/30":
         - "172.20.1.8/30":
         - "172.20.1.12/30":
         - "172.20.1.16/30":
         - "172.20.1.20/30":
   - spine02:
      - process: '1'
      - router_id: '1.0.0.2'
      - networks:
         - "172.20.1.24/30":
         - "172.20.1.28/30":
         - "172.20.1.32/30":
         - "172.20.1.36/30":
         - "172.20.1.40/30":
         - "172.20.1.44/30":
   - spine03:
      - process: '1'
      - router_id: '1.0.0.3'
      - networks:
         - "172.20.1.48/30":
         - "172.20.1.52/30":
         - "172.20.1.56/30":
         - "172.20.1.60/30":
         - "172.20.1.64/30":
         - "172.20.1.68/30":
   - spine04:
      - process: '1'
      - router_id: '1.0.0.4'
      - networks:
         - "172.20.1.72/30":
         - "172.20.1.76/30":
         - "172.20.1.80/30":
         - "172.20.1.84/30":
         - "172.20.1.88/30":
         - "172.20.1.92/30":
   - leaf01:
      - process: '1'
      - router_id: 1.0.0.5
      - networks:
         - "172.20.1.0/30"
         - "172.20.1.24/30"
         - "172.20.1.48/30"
         - "172.20.1.72/30"
   - leaf02:
      - process: '1'
      - router_id: 1.0.0.6
      - networks:
         - "172.20.1.4/30"
         - "172.20.1.28/30"
         - "172.20.1.52/30"
         - "172.20.1.76/30"
   - leaf03:
      - process: '1'
      - router_id: 1.0.0.7
      - networks:
         - "172.20.1.8/30"
         - "172.20.1.32/30"
         - "172.20.1.56/30"
         - "172.20.1.80/30"
   - leaf04:
      - process: '1'
      - router_id: 1.0.0.8
      - networks:
         - "172.20.1.12/30"
         - "172.20.1.36/30"
         - "172.20.1.60/30"
         - "172.20.1.84/30"
   - leaf05:
      - process: '1'
      - router_id: 1.0.0.9
      - networks:
         - "172.20.1.16/30"
         - "172.20.1.40/30"
         - "172.20.1.64/30"
         - "172.20.1.88/30"
   - leaf06:
      - process: '1'
      - router_id: 1.0.0.10
      - networks:
         - "172.20.1.20/30"
         - "172.20.1.44/30"
         - "172.20.1.68/30"
         - "172.20.1.92/30"
- interface:
   - spine01:
      - Ethernet 1:
         - ipv4: "172.20.1.1"
      - Ethernet 2:
         - ipv4: "172.20.1.5"
      - Ethernet 3:
         - ipv4: "172.20.1.9"
      - Ethernet 4:
         - ipv4: "172.20.1.13"
      - Ethernet 5:
         - ipv4: "172.20.1.17"
      - Ethernet 6:
         - ipv4: "172.20.1.21"
   - spine02:
      - Ethernet 1:
         - ipv4: "172.20.1.25"
      - Ethernet 2:
         - ipv4: "172.20.1.29"
      - Ethernet 3:
         - ipv4: "172.20.1.33"
      - Ethernet 4:
         - ipv4: "172.20.1.37"
      - Ethernet 5:
         - ipv4: "172.20.1.41"
      - Ethernet 6:
         - ipv4: "172.20.1.45"
   - spine03:
      - Ethernet 1:
         - ipv4: "172.20.1.49"
      - Ethernet 2:
         - ipv4: "172.20.1.53"
      - Ethernet 3:
         - ipv4: "172.20.1.57"
      - Ethernet 4:
         - ipv4: "172.20.1.61"
      - Ethernet 5:
         - ipv4: "172.20.1.65"
      - Ethernet 6:
         - ipv4: "172.20.1.69"
   - spine04:
      - Ethernet 1:
         - ipv4: "172.20.1.73"
      - Ethernet 2:
         - ipv4: "172.20.1.77"
      - Ethernet 3:
         - ipv4: "172.20.1.81"
      - Ethernet 4:
         - ipv4: "172.20.1.85"
      - Ethernet 5:
         - ipv4: "172.20.1.89"
      - Ethernet 6:
         - ipv4: "172.20.1.93"
   - leaf01:
      - Ethernet 1:
         - ipv4: "172.20.1.2"
      - Ethernet 2:
         - ipv4: "172.20.1.26"
      - Ethernet 3:
         - ipv4: "172.20.1.50"
      - Ethernet 4:
         - ipv4: "172.20.1.74"
   - leaf02:
      - Ethernet 1:
         - ipv4: "172.20.1.6"
      - Ethernet 2:
         - ipv4: "172.20.1.30"
      - Ethernet 3:
         - ipv4: "172.20.1.54"
      - Ethernet 4:
         - ipv4: "172.20.1.78"
   - leaf03:
      - Ethernet 1:
         - ipv4: "172.20.1.10"
      - Ethernet 2:
         - ipv4: "172.20.1.34"
      - Ethernet 3:
         - ipv4: "172.20.1.58"
      - Ethernet 4:
         - ipv4: "172.20.1.82"
   - leaf04:
      - Ethernet 1:
         - ipv4: "172.20.1.14"
      - Ethernet 2:
         - ipv4: "172.20.1.38"
      - Ethernet 3:
         - ipv4: "172.20.1.62"
      - Ethernet 4:
         - ipv4: "172.20.1.86"
   - leaf05:
      - Ethernet 1:
         - ipv4: "172.20.1.18"
      - Ethernet 2:
         - ipv4: "172.20.1.42"
      - Ethernet 3:
         - ipv4: "172.20.1.66"
      - Ethernet 4:
         - ipv4: "172.20.1.90"
   - leaf06:
      - Ethernet 1:
         - ipv4: "172.20.1.22"
      - Ethernet 2:
         - ipv4: "172.20.1.46"
      - Ethernet 3:
         - ipv4: "172.20.1.70"
      - Ethernet 4:
         - ipv4: "172.20.1.94"
